

#2019/05/14
#添加Mat文件完成标记，初始化切分任务，以防止断电 宕机后再启动找不到数据入口
#为防止资源不足，在代码挂掉的之前处理成功的那一个的 标记文件中进行标记
#下一次代码运行时，从头开始，但是会先判断标记，如果标记过了，就不处理，继续进行下一个的判断


宕机后恢复Mat处理执行的操作
1. 删除异常时间段数据（近1h），使用工具WriteFlagStockList.java 统计已确认完成的股票名称列表
2. 檢查生成的listWithFlag.csv文件
3. 启动MatDataProcesserController



# DataProcessor
+ Analys matlab data and csv data

+ 需要添加去重逻辑 mat和csv文件都需要判断 判断增量 下一个时间 减去上一个时间 若为 0 或者 负数 则抛弃后面这条数据
+ Mat文件和csv文件时间有交集，解决方式 在2016年以前用mat ,读取mat文件时，要做截止时间的判断

####文件夹结构分析 Analysis of the dir
+ Mat file
```
    stock 按照月建立文件夹 
        tickab200701
            *.SH.mat  
            *.SZ.mat 
            （本月 可能不会同时都有SH SZ）
        tickab200701
            *.SH.mat  
            *.SZ.mat
    2016/2017 按照天
        201601Sh股票五档分笔
            20160104 （注意 日期中 天有间隔）
                000001_20160104.csv
                000002_20160104.csv
                000003_20160104.csv
                000004_20160104.csv
            20160105
            20160106
        201601SZ股票五档分笔
        201602SH股票五档分笔
        201602SZ股票五档分笔
```        
    
×××    
#####压缩比计算估算  
```
  文件压缩比：6.1--6,。25
  解压前|解压后
   |2.1G  |13 G|
   | 1.6G |10 G|
```   
#####磁盘需求量估算
+ stock 约566G        
+ 2016  约77G    
+ 2017  约42G
MAX_NEED_DISK = 566+(77+42)*6.2 = 1280G
####StocklistA
+ 按照股票代码文件夹中stocklistA文件里的第一列进行处理   

####Matlab文件2016年9月之前
+ 1.从mat文件中提取date和time，转换成时间戳，
+ 2.StockTickAB.Price (col 1 只有一列)
+ 3.StockTickAB.Volume (col 1 只有一列)
+ 4-8.StockTickAB.BidPrice10 （col1-5）
+ 9-13.StockTickAB.BidVolume10 （col1-5）
+ 14-18.StockTickAB.AskPrice10（col1-5）
+ 19-23．StockTickAB.AskVolume10（col1-5）


>ps:2016年九月之后的时间按照2016/2017文件夹里取
Mat文件到20160930结束,之后的股票时间信息从 2016/2017获取

####2016年九月之后 
+ 第一列：csv文件中提取date和time，转换成时间戳，
+ 第二列：成交价，stock文件夹里的StockTickAB.Price，2016/2017文件夹里的成交价，Stk_Tick_2016/2017文件夹里的最新价
+ 第三列：成交量，stock文件夹里的StockTickAB.Volume，2016/2017文件夹里的成交量*100，Stk_Tick_2016/2017文件夹里的成交量*100
+ 第四列到八列：买一到五价，stock文件夹里的StockTickAB.BidPrice10前五列，2016/2017文件夹里的b1价，b2价~b5价，Stk_Tick_2016/2017文件夹里的买一价，买二价~买五价
+ 第九列到十三列：买一到五量，stock文件夹里的StockTickAB.BidVolume10前五列，2016/2017文件夹里的量，b1量~b5量，Stk_Tick_2016/2017文件夹里的买一量，买二量~买五量
+ 第十四列到十八列：麦一到五价，stock文件夹里的StockTickAB.AskPrice10前五列，2016/2017文件夹里的s1价，s2价~s5价，Stk_Tick_2016/2017文件夹里的卖一价，卖二价~卖五价
+ 第十九列到二十三列：卖一到五量，stock文件夹里的StockTickAB.AskVolume10前五列，2016/2017文件夹里的量，s2量~s5量，Stk_Tick_2016/2017文件夹里的卖一量，卖二量~卖五量

####时间区间要求
+ 只获取此区间之内9:30~11.30，13：00~15:00


现在的问题
4 ：买一价 ，出现特别大的值 出现了特别大的值 有多个 值好像都相等
14-18 （卖1-卖5）： 出现特别大的值 出现了特别大的值 有多个 值好像都相等


9-13列（买量） ： 有负值 和 特别大的值
19-23 （卖量） ： 有负值 和 特别大的值


另一个股票
2 （成交价）列 ：    有特别大的值
9-13           ：   有负值
14-18         ：    有特别大的，正值
19-23 （卖量） ：   有特别大的值



000001.SZ.csv
﻿000001.SZ.csv

有的占用空间大小为0的文件，可能是因为文件名字不正确导致




